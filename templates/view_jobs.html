<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Jobs | JobConnect</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f7ff',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                            950: '#082f49',
                        },
                    },
                    keyframes: {
                        shimmer: {
                            '100%': { transform: 'translateX(100%)' }
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' }
                        },
                        scale: {
                            '0%, 100%': { transform: 'scale(1)' },
                            '50%': { transform: 'scale(1.05)' }
                        },
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        pulse: {
                            '0%, 100%': { opacity: '1' },
                            '50%': { opacity: '0.5' }
                        }
                    },
                    animation: {
                        shimmer: 'shimmer 2s infinite',
                        float: 'float 6s ease-in-out infinite',
                        scale: 'scale 6s ease-in-out infinite',
                        fadeInUp: 'fadeInUp 0.6s ease-out forwards',
                        pulse: 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite'
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f0f9ff;
        }
        
        .card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid transparent;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            border-color: #7dd3fc;
        }

        .shimmer {
            position: relative;
            overflow: hidden;
        }

        .shimmer::after {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            transform: translateX(-100%);
            background-image: linear-gradient(
                90deg,
                rgba(255, 255, 255, 0) 0,
                rgba(255, 255, 255, 0.2) 20%,
                rgba(255, 255, 255, 0.5) 60%,
                rgba(255, 255, 255, 0)
            );
            animation: shimmer 2s infinite;
            content: '';
        }

        /* Button hover effect */
        .btn-primary {
            background-image: linear-gradient(to right, #0ea5e9, #38bdf8);
            transition: all 0.3s ease;
            background-size: 200% auto;
        }
        
        .btn-primary:hover {
            background-position: right center;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(14, 165, 233, 0.3);
        }

        .btn-outline {
            transition: all 0.3s ease;
            border: 2px solid #e0f7ff;
        }
        
        .btn-outline:hover {
            border-color: #38bdf8;
            background-color: #f0f9ff;
            transform: translateY(-1px);
        }

        .animate-fade-in-up {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease-out forwards;
        }

        .bg-mesh {
            background-image: radial-gradient(circle at 1px 1px, #bae6fd 1px, transparent 0);
            background-size: 40px 40px;
            background-color: #f0f9ff;
        }

        /* Add status color styles */
        .status-open {
            background-color: #10b981; /* Green for open */
            color: white;
        }

        .status-closed {
            background-color: #ef4444; /* Red for closed */
            color: white;
        }

        .status-deadline {
            background-color: #f59e0b; /* Yellow for deadline */
            color: white;
        }
        
        .skill-tag {
            transition: all 0.2s ease;
        }
        
        .skill-tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .job-card {
            position: relative;
            overflow: hidden;
        }
        
        .job-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(to right, #0ea5e9, #38bdf8);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.3s ease;
        }
        
        .job-card:hover::after {
            transform: scaleX(1);
        }
        
        .action-button {
            transition: all 0.2s ease;
        }
        
        .action-button:hover {
            transform: translateY(-2px);
        }
    </style>
</head>
<body class="bg-mesh min-h-screen py-8 px-4 sm:px-6 lg:px-8 antialiased">
    <div class="max-w-7xl mx-auto">
        <!-- Header with enhanced design -->
        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-10 space-y-4 sm:space-y-0">
            <div class="animate-fade-in-up" style="animation-delay: 0.1s">
                <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 flex items-center">
                    <div class="w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-600 mr-3">
                        <i class="fas fa-briefcase"></i>
                    </div>
                    <span>Your Jobs</span>
                </h1>
                <p class="mt-2 text-gray-600">Manage and track your job postings</p>
            </div>
            
            <div class="flex items-center gap-3 animate-fade-in-up" style="animation-delay: 0.2s">
                <a href="{{ url_for('company') }}" 
                   class="btn-outline px-4 py-2 rounded-lg font-medium text-gray-700 flex items-center">
                    <i class="fas fa-arrow-left mr-2"></i>
                    Dashboard
                </a>
                
                <a href="{{ url_for('Post_Jobs') }}" 
                   class="btn-primary px-4 py-2 rounded-lg font-medium text-white flex items-center">
                    <i class="fas fa-plus-circle mr-2"></i>
                    Post a Job
                </a>
            </div>
        </div>

        <!-- Enhanced Job Cards Grid -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            {% for job in jobs %}
                <div class="job-card bg-white rounded-xl shadow-sm card-hover animate-fade-in-up" 
                     style="animation-delay: {{ loop.index * 0.1 }}s">
                    <div class="p-6">
                        <div class="flex flex-col mb-4">
                            <div class="flex justify-between items-start mb-2">
                                <h2 class="text-xl font-bold text-gray-900 leading-tight break-words">{{ job.job_title }}</h2>
                                <span class="px-3 py-1 rounded-full text-xs font-medium ml-2 
                                        {% if job.job_status == 'open' %} status-open {% elif job.job_status == 'closed' %} status-closed {% else %} status-deadline {% endif %}">
                                    {{ job.job_status | capitalize }}
                                </span>
                            </div>
                            <span class="self-start px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-medium">
                                {{ job.job_type }}
                            </span>
                        </div>
                        
                        <div class="space-y-3 text-gray-600 text-sm">
                            <p class="flex items-center">
                                <i class="fas fa-map-marker-alt w-5 text-primary-500"></i>
                                <span class="ml-2">{{ job.job_location }}, {{ job.job_city }}</span>
                            </p>
                            <p class="flex items-center">
                                <i class="fas fa-dollar-sign w-5 text-primary-500"></i>
                                <span class="ml-2">{{ job.job_salary }}</span>
                            </p>
                            <p class="flex items-center">
                                <i class="fas fa-industry w-5 text-primary-500"></i>
                                <span class="ml-2">{{ job.job_industry }}</span>
                            </p>
                            <p class="flex items-center">
                                <i class="fas fa-calendar-alt w-5 text-primary-500"></i>
                                <span class="ml-2">Deadline: {{ job.job_deadline }}</span>
                            </p>
                        </div>

                        <div class="mt-4">
                            <p class="text-sm text-gray-600 line-clamp-3 leading-relaxed">
                                {{ job.job_description }}
                            </p>
                        </div>

                        <div class="flex flex-wrap gap-2 mt-4">
                            {% for skill in job.job_skills.split(',') %}
                                <span class="skill-tag px-3 py-1 bg-primary-50 text-primary-700 text-xs font-medium rounded-full">
                                    {{ skill.strip() }}
                                </span>
                            {% endfor %}
                        </div>
                    </div>

                    <div class="px-6 py-3 bg-gray-50 border-t border-gray-100 rounded-b-xl flex items-center justify-between">
                        <p class="text-xs text-gray-500 flex items-center">
                            <i class="fas fa-clock mr-2 text-primary-400"></i>
                            Posted: {{ job.job_dop }}
                        </p>
                        <div class="flex space-x-2">
                            <a href="#" class="action-button p-2 rounded-full text-primary-500 hover:bg-primary-50" title="Edit Job">
                                <i class="fas fa-edit"></i>
                            </a>
                            <a href="#" class="action-button p-2 rounded-full text-primary-500 hover:bg-primary-50" title="View Applications">
                                <i class="fas fa-users"></i>
                            </a>
                            <a href="#" class="action-button p-2 rounded-full text-primary-500 hover:bg-primary-50" title="More Options">
                                <i class="fas fa-ellipsis-h"></i>
                            </a>
                        </div>
                    </div>
                </div>
            {% else %}
                <div class="col-span-full text-center py-16 animate-fade-in-up">
                    <div class="max-w-md mx-auto bg-white p-8 rounded-xl shadow-sm card-hover">
                        <div class="w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6">
                            <i class="fas fa-clipboard-list text-primary-500 text-3xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">No jobs posted yet</h3>
                        <p class="text-gray-600 mb-6">Create your first job posting and start finding the perfect candidates.</p>
                        <a href="{{ url_for('Post_Jobs') }}" 
                           class="btn-primary inline-flex items-center px-6 py-3 rounded-lg font-medium text-white">
                            <i class="fas fa-plus-circle mr-2"></i>
                            Post Your First Job
                        </a>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>

    <script>
        // Add intersection observer for smooth scroll animations
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.animate-fade-in-up');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            });

            cards.forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                observer.observe(card);
            });
            
            // Add hover effects for action buttons
            const actionButtons = document.querySelectorAll('.action-button');
            actionButtons.forEach(button => {
                button.addEventListener('mouseenter', function() {
                    const icon = this.querySelector('i');
                    if (icon) {
                        icon.classList.add('animate-pulse');
                    }
                });
                
                button.addEventListener('mouseleave', function() {
                    const icon = this.querySelector('i');
                    if (icon) {
                        icon.classList.remove('animate-pulse');
                    }
                });
            });
        });
    </script>
</body>
</html>